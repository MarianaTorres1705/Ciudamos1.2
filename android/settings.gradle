pluginManagement {
  repositories {
    gradlePluginPortal()
    google()
    mavenCentral()
  }
  // Para resolver los plugins de RN (com.facebook.react.settings)
  includeBuild("../node_modules/@react-native/gradle-plugin")
}

plugins {
  id("com.facebook.react.settings")
}

extensions.configure(com.facebook.react.ReactSettingsExtension) { ex ->
  ex.autolinkLibrariesFromCommand()
}

dependencyResolutionManagement {
  // Evita choque por repos agregados por el plugin (solo warning)
  repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)
  repositories {
    google()
    mavenCentral()
    maven { url("$rootDir/../node_modules/react-native/android") }
    maven { url("$rootDir/../node_modules/jsc-android/dist") }

    maven { url("https://maven.notifee.app/releases") }
    maven { url("$rootDir/../node_modules/@notifee/react-native/android/libs") }
  }
}

rootProject.name = "Ciudamos"
include(":app")

// ðŸ‘‡ ESTE includeBuild es el correcto para la sustituciÃ³n de dependencia del classpath
includeBuild("../node_modules/@react-native/gradle-plugin") {
  dependencySubstitution {
    substitute(module("com.facebook.react:react-native-gradle-plugin"))
      .using(project(":"))
  }
}
